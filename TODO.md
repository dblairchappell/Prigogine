1) Implement agent state changes.
2) Implement messaging system.