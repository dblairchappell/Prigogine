
population "households" [

    parameters [
        "minWage"
    ]

    variables [
        "reserveWage"
        "weeksEmployed"
    ]

    state "employed" [
        transition "unemployed" where getvars("reserveWage") > 100
        update "reserveWage" getvars("reserveWage") * 1.02
        update "weeksEmployed" getvars("weeksEmployed") + 1
    ]

    state "unemployed" [
        transition "employed" where getvars("reserveWage") < 35
        update "reserveWage" maximum(getvars("reserveWage") * 0.9, getparams("minWage"))
        update "weeksEmployed" getvars("weeksEmployed")
    ]

]


